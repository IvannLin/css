<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
//    正则表达式:regular expression
//    主要用在字符串格式匹配,包括搜索方面
//    正则表达式是一门独立的学科,在Java语言中支持,c语言中也支持,javascript中也支持,大部分编程语言都支持正则表达式
    // 常见的正则表达式符号:
    // .匹配除换行以外的任意字符
    // \w匹配字母或数字或下划线或汉字
    // \s匹配任意的空白符
    // \d匹配数字
    // \b匹配单词的开始或结束
    // ^匹配字符串的开始
    // $匹配字符串的结束

    //匹配次数:
    // *重复零次或更多次
    // +重复一次或更多次
    // ?重复零次或一次
    // {n} 重复n次
    // {n,} 重复n次或更多次
    // {n,m} 重复n到m次

    // \W 匹配任意不是字母 数字 下划线 汉字的字符
    // \S 匹配任意不是空白符的字符
    // \D 匹配任意非数字的字符
    // \B 匹配不是单词开头或结束的位置
    // [^x] 匹配除了x以外的任意字符
    // [^aeiou] 匹配除了aeiou这几个字母以外的任意字符

    //正则表达式当中的小括号()优先级较高

    //QQ号的正则表达式:^[1-9][0-9]{4,}$

    //怎么创建正则表达式对象,怎么调用正则表达式对象的方法?
    // 第一种创建方式:
    //      let regExp=/正则表达式/flags;
    // 第二种创建方式:使用内置支持类regExp
    //      let regExp=new regExp("正则表达式","flags");
    // 关于flags的可取值:
    //  g 全局匹配,全文查找出现的所有pattern 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。
    //  i 忽略大小写
    //  m 多行搜索(ES规范制定之后才支持m)如果pattern是正则表达式,而不是字符串,则必须省略该参数

    //正则表达式对象的test()方法
    //  true/false=正则表达式对象.test(用户填写的字符串)
    // true表示字符串格式匹配成功
    window.onload=function(){
        document.getElementById("btn").onclick=function(){
            let email=document.getElementById("email").value;
            let emailRegExp=/^\w+([-+.]\w+)*@\w+([-.]\w)*\.\w+([-.]\w+)*$/;
            let ok=emailRegExp.test(email);
            if(!ok){
                document.getElementById("emailError").innerText="邮箱地址不合法!";
            }
        }

        //给文本框绑定focus
        document.getElementById("email").onfocus=function(){
            document.getElementById("emailError").innerText="";
        }

    }
</script>
<input type="text" id="email">

<span id="emailError" style="color:red;font-size: 12px;"></span>
<br>
<input type="button" value="验证邮箱" id="btn">
<br>

</body>
</html>